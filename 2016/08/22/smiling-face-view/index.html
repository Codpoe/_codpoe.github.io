<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
<title>
    
        仿支付宝的刷新View--SmilingFaceView
    
</title>
<meta name="author" content="Codpoe">
<meta name="description" content="An elegant blog about technology and life">
<meta name="keywords" content="blog, technology, frontend, elegant">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


    <link rel="stylesheet" href="/css/post.bundle.css">
</head>
<body>
    

    <header class="header-wrapper">
    <div class="header">
        <div class="left">
            <a href="/">
                <img class="logo" src="/img/logo.jpg" alt="logo">
            </a>
            <ul class="links">
                
                    <li>
                        
                            <a href="http://weibo.com/u/2757541610/" target="_blank" title="weibo">
                                <i class="fa fa-weibo"></i>
                            </a>
                        
                    </li>
                
                    <li>
                        
                            <a href="https://github.com/codpoe/" target="_blank" title="github">
                                <i class="fa fa-github"></i>
                            </a>
                        
                    </li>
                
            </ul>

        </div>
        <ul class="right">
            
                <li>
                    
                        <a 
                            href="/" 
                            class="normal-menu "
                            target="_self">
                            home
                        </a>
                    
                </li>
            
                <li>
                    
                        <span class="category">
                            category <i class="fa fa-angle-down"></i>
                            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a><span class="category-list-count">1</span></li></ul>
                        </span>
                    
                </li>
            
                <li>
                    
                        <a 
                            href="/archives/" 
                            class="normal-menu "
                            target="_self">
                            archive
                        </a>
                    
                </li>
            
                <li>
                    
                        <a 
                            href="/about/" 
                            class="normal-menu "
                            target="_self">
                            about
                        </a>
                    
                </li>
            
                <li>
                    
                        <a 
                            href="/resume/" 
                            class="normal-menu "
                            target="_blank">
                            resume
                        </a>
                    
                </li>
            
        </ul>
        <i class="fa fa-bars menu-bar"></i>
    </div>
    <ul class="mobile-menu">
        
            
                <li>
                    <a 
                        href="/" 
                        class=""
                        target="_self">
                        home
                    </a>
                </li>
            
        
            
        
            
                <li>
                    <a 
                        href="/archives/" 
                        class=""
                        target="_self">
                        archive
                    </a>
                </li>
            
        
            
                <li>
                    <a 
                        href="/about/" 
                        class=""
                        target="_self">
                        about
                    </a>
                </li>
            
        
            
                <li>
                    <a 
                        href="/resume/" 
                        class=""
                        target="_blank">
                        resume
                    </a>
                </li>
            
        
    </ul>
</header>



    <div class="wrapper">
        <div class="container">
            <div class="post">
    <div class="title-wrapper">
        
            <span class="title">
                仿支付宝的刷新View--SmilingFaceView
            </span>
        
        <ul class="description">
            <li>
                <i class="fa fa-calendar"></i>
                Aug 22, 2016
            </li>
            
                |
                <li>
                    <i class="fa fa-tag"></i>
                    
                        <a href="/categories/Android">
                            
                                Android
                            
                        </a>
                    
                </li>
            
        </ul>
    </div>
    
    <div class="markdown-body">
        
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近我在学习自定义 View，碰巧遇上支付宝 App 大更新，UI 改了很多，其中的「生活」Tab 有一个下拉刷新的 View，如图：</p>
<p><img src="http://image.codpoe.me/alipay.gif-blogsize" alt="Alipay"></p>
<p>支付宝这个效果乍看之下，觉得不算复杂，按我自己目前的渣渣能力应该还是可以实现的吧，之后就着手开搞了。由于对自定义 View 还不够熟练，模仿实现的过程还是有点头疼的，幸好实现的效果还不错啦。<br><a id="more"></a></p>
<blockquote>
<p>我这里模仿的只是它刷新时候的 View，而不是整个下拉刷新的控件。</p>
</blockquote>
<h2 id="实现的效果"><a href="#实现的效果" class="headerlink" title="实现的效果"></a>实现的效果</h2><p><img src="http://image.codpoe.me/smiling-face-view.gif-blogsize" alt="SmilingFaceView"></p>
<p>看着还是不错的，有兴趣的可以下载 <a href="http://fir.im/smilingface" target="_blank" rel="external">Demo</a>。</p>
<p>项目地址：<a href="https://github.com/Codpoe/SmilingFaceView" target="_blank" rel="external">SmilingFaceView</a></p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul>
<li><p>xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">me.codpoe.smilingface.ui.view.SmilingFaceView</span></span></div><div class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">"@+id/smiling_face_view"</span></span></div><div class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">"30dp"</span></span></div><div class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">"30dp"</span></span></div><div class="line"><span class="tag">       <span class="attr">android:layout_marginTop</span>=<span class="string">"50dp"</span></span></div><div class="line"><span class="tag">       <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></div><div class="line"><span class="tag">       <span class="attr">app:smiling_color</span>=<span class="string">"@color/colorPrimary"</span></span></div><div class="line"><span class="tag">       <span class="attr">app:smiling_alpha</span>=<span class="string">"127"</span></span></div><div class="line"><span class="tag">       <span class="attr">app:smiling_width</span>=<span class="string">"10"</span></span></div><div class="line"><span class="tag">       <span class="attr">app:smiling_duration</span>=<span class="string">"1500"</span>/&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>Java</p>
<p>提供给外部调用的方法不多</p>
<ul>
<li><p>start()</p>
<p> 开始刷新</p>
</li>
<li><p>stop()</p>
<p> 停止刷新</p>
</li>
<li><p>setColorAndAlpha(int color)</p>
<p> 设置颜色</p>
</li>
<li><p>setAlpha(int alpha)</p>
<p> 设置透明度</p>
</li>
<li><p>setDuration(int duration)</p>
<p> 设置动画时长</p>
</li>
</ul>
</li>
</ul>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h2 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h2><p><a href="http://gcssloop.com/" target="_blank" rel="external">GcsSloop的自定义View系列</a></p>
<blockquote>
<p>写得真的很好，十分感谢作者(｡･∀･)ﾉﾞ</p>
</blockquote>

        
    </div>
    
    
</div>
            <div class="pagination">
    
        
            <a class="prev" href="/2016/09/20/swipe-refresh-layout/">newer</a>
        
        
            <a class="next" href="/2016/08/08/translucent-statusbar/">older</a>
        
    
</div>


            <section class="comments">
                
    <div id="disqus_thread">
    </div>
    <script>
        var disqus_shortname = 'codpoe';
        var disqus_config = function() {
            this.page.url = 'http://codpoe.me/2016/08/22/smiling-face-view/';
            this.page.identifier = '2016/08/22/smiling-face-view/';
        };
        (function() {
            var d = document,
                s = d.createElement('script');
            s.async = true;
            s.setAttribute('data-timestamp', +new Date());
            s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>
        Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>

    
                            
            </section>
        </div>
        <footer class="footer">
    <div class="copyright">
        <i class="fa fa-copyright"></i>&nbsp;2017&nbsp;&nbsp;<i class="fa fa-heart"></i>&nbsp;&nbsp;Codpoe
    </div>
    <div class="info">
        Powered by <a href="https://hexo.io/">Hexo</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;Theme - <a href="https://github.com/codpoe/hexo-theme-poem/">Poem</a>
    </div>
</footer>
    </div>
    
    <script src="/js/post.bundle.js"></script>
</body>
</html>